{% extends 'base.html.twig' %}

{% block title %}SymRecipe - Connexion{% endblock %}

{% block body %}
    <div class="container">
        <h2 class="mt-4">Formulaire de connexion</h2>

         {# read and display just one flash message type #}
        {% for message in app.flashes('success') %}
            <div class="alert alert-success mt-4" style="max-width: 20rem;">
                {{ message }}
            </div>
        {% endfor %}

{# On met un form.post et il aura pointé vers la route qui sera le path security.login #}
{# on met en place les inputs => bootswatch #}
       
        <form class="form-group row" action="{{ path('security.login') }}" method="post">

        <div class="col-12">
            {% if error %}           
                <div class="alert alert-danger mt-4" style="max-width: 40rem;">
                    {{ error.messageKey|trans(error.messageData, 'security') }}
                </div>
            {% endif %}
        </div>

            <div class="col-md-4 col-form-group">
                <label 
                    for="username" 
                    class="form-label mt-4"
                >Adresse email
                </label>
                <input 
                    type="email" 
                    class="form-control" 
                    id="username"
                    name="_username" 
                    placeholder="example@symrecipe.fr"
                    value={{ last_username }}
                >
                <small 
                    id="emailHelp" 
                    class="form-text text-muted"
                >Nous ne communiquerons jamais votre adresse email à qui que ce soit.
                </small>
            </div>

            <div class="col-md-4 col-form-group">
                <label 
                    for="password" 
                    class="form-label mt-4"
                >Mot de passe
                </label>
                <input 
                    type="password" 
                    class="form-control" 
                    id="password"
                    name="_password" 
                    placeholder="********"
                >
            </div>

            <div class="col-12">
                <button
                type="submit"
                class="btn btn-primary mt-4"
                >Se connecter
                </button>
            </div>

        </form>

        
    </div>

{% endblock %}
